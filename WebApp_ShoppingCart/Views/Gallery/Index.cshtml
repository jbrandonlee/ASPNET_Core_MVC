@{
	ViewData["Title"] = "Gallery";
	var products = ViewBag.products;
}

<style>
	.desc-height-3 {
		overflow: hidden;
		text-overflow: ellipsis;
		
		display: -webkit-box;
		-webkit-line-clamp: 3;
		line-clamp: 3;
		-webkit-box-orient: vertical;
	}
	
	form {
		margin-bottom: 2em;
	}

	#buttonSearch:hover {
		background-color: #ced4da;
	}

	.card {
		max-width: 24rem;
	}

	.card-footer {
		text-align: center;
	}

	.card-footer button {
		width: 90%;
	}
</style>

<!--https://getbootstrap.com/docs/5.0/components/card/#grid-cards-->
<!--https://icons.getbootstrap.com/icons/search/-->

<div>
	<h1 class="display-4">Gallery/Index</h1><br />
	<form id="formSearch">
		<div class="input-group">
			<span class="input-group-text" id="buttonSearch" onclick="document.getElementById('formSearch').submit();">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
					<path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"></path>
				</svg>
			</span>
			<input type="text" class="form-control" id="searchbar" name="search" placeholder="Enter your search here...">
		</div>
	</form>

	<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
		@foreach (Product p in products)
		{
			string displayPrice = String.Format($"{p.Price:C2}");

			<div class="col">
				<div class="card">
					<img src="@p.ImageUrl" class="card-img-top">
					<div class="card-body">
						<h5 class="card-title">@p.Name</h5>
						<p class="card-text desc-height-3">@p.Description</p>
					</div>
					<div class="card-footer">
						<button type="button" class="btn btn-primary">@displayPrice - Add to Cart</button>
					</div>
				</div>
			</div>
		}
	</div>
</div>

